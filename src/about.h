#pragma once
#include "button.h"
#include "exit.h"
#include "menu.h"
#include "screen.h"

const int GXZX_WIDTH = 69, GXZX_HEIGHT = 64;
const unsigned char gxzx_bmp[576] = {
    /* 0X00,0X01,0X45,0X00,0X40,0X00, */
    0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00,
    0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X03, 0XFC, 0X00,
    0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X3F, 0XFF, 0XE0, 0X00, 0X00, 0X00,
    0X00, 0X00, 0X01, 0XFF, 0XFF, 0XFC, 0X00, 0X00, 0X00, 0X00, 0X00, 0X07,
    0XFF, 0XFF, 0XFE, 0X00, 0X00, 0X00, 0X00, 0X00, 0X1F, 0XFF, 0XFF, 0XFF,
    0X80, 0X00, 0X00, 0X00, 0X00, 0X37, 0XFF, 0XFF, 0XFF, 0XE0, 0X00, 0X00,
    0X00, 0X00, 0XF3, 0XFF, 0XFF, 0XFF, 0XF0, 0X00, 0X00, 0X00, 0X01, 0XF3,
    0XFF, 0XFF, 0XFF, 0XF8, 0X00, 0X00, 0X00, 0X03, 0XF1, 0XFF, 0XFF, 0XFF,
    0XFC, 0X00, 0X00, 0X00, 0X07, 0XF1, 0XFF, 0XFF, 0XFF, 0XFE, 0X00, 0X00,
    0X00, 0X0F, 0XE1, 0XFF, 0XFF, 0XFF, 0XFF, 0X00, 0X00, 0X00, 0X1F, 0XE0,
    0XFF, 0XFF, 0XFF, 0XFF, 0X80, 0X00, 0X00, 0X1F, 0XE0, 0XFF, 0XFF, 0XFF,
    0XFF, 0XC0, 0X00, 0X00, 0X3F, 0XE0, 0X7F, 0XFF, 0XFF, 0XFF, 0XC0, 0X00,
    0X00, 0X7F, 0XE0, 0X7F, 0XFF, 0XFF, 0XFF, 0XE0, 0X00, 0X00, 0X7F, 0XC0,
    0X3F, 0XFF, 0XFF, 0XFF, 0XF0, 0X00, 0X00, 0XFF, 0XC4, 0X3F, 0XFF, 0XFF,
    0XFF, 0XF0, 0X00, 0X00, 0XFF, 0XC4, 0X1F, 0XFF, 0XFF, 0XFF, 0XF0, 0X00,
    0X01, 0XFF, 0XC4, 0X1F, 0XFF, 0XFF, 0XFF, 0XF8, 0X00, 0X01, 0XFF, 0XC4,
    0X0F, 0XFF, 0XFF, 0XFF, 0XF8, 0X00, 0X01, 0XFF, 0XC0, 0X0F, 0XFF, 0XFF,
    0XFF, 0XFC, 0X00, 0X03, 0XFF, 0XC0, 0X07, 0XFF, 0XFF, 0XFF, 0XFC, 0X00,
    0X03, 0XFF, 0XC2, 0X07, 0XFF, 0XFF, 0XFF, 0XFC, 0X00, 0X03, 0XFF, 0X82,
    0X03, 0XFF, 0XFF, 0XFF, 0XFC, 0X00, 0X03, 0XFF, 0X82, 0X03, 0XFF, 0XFF,
    0XFF, 0XFE, 0X00, 0X03, 0XFF, 0X80, 0X01, 0XFF, 0XFF, 0XFF, 0XFE, 0X00,
    0X03, 0XFF, 0X81, 0X00, 0XFF, 0XFF, 0XFF, 0XFE, 0X00, 0X03, 0XFF, 0X81,
    0X00, 0XFF, 0XFF, 0XFF, 0XFE, 0X00, 0X07, 0XFF, 0X80, 0X00, 0X7F, 0XFF,
    0XFF, 0XFE, 0X00, 0X07, 0XFF, 0X80, 0X80, 0X3F, 0XFF, 0XFF, 0XFE, 0X00,
    0X07, 0XFF, 0X80, 0X80, 0X1F, 0XFF, 0XFF, 0XFE, 0X00, 0X03, 0XFF, 0X80,
    0X40, 0X0F, 0XFF, 0XFF, 0XFE, 0X00, 0X03, 0XFF, 0X80, 0X40, 0X0F, 0XFF,
    0XFF, 0XFE, 0X00, 0X03, 0XFF, 0XC0, 0X00, 0X07, 0XFF, 0XFF, 0XFE, 0X00,
    0X03, 0XFF, 0XC0, 0X20, 0X03, 0XFF, 0XFF, 0XFE, 0X00, 0X03, 0XFF, 0XC0,
    0X20, 0X01, 0XFF, 0XFF, 0XFC, 0X00, 0X03, 0XFF, 0XC0, 0X10, 0X00, 0XFF,
    0XFF, 0XFC, 0X00, 0X03, 0XFF, 0XEF, 0XF6, 0X3F, 0XFF, 0XFF, 0XFC, 0X00,
    0X01, 0XFF, 0XFF, 0XE3, 0XF8, 0X07, 0XFF, 0XFC, 0X00, 0X01, 0XFF, 0XF1,
    0XC1, 0XE1, 0XE0, 0X07, 0XF8, 0X00, 0X00, 0X99, 0X60, 0X1C, 0X07, 0XFC,
    0X00, 0X18, 0X00, 0X00, 0X00, 0X0F, 0X3E, 0X1F, 0XFF, 0XFC, 0X00, 0X00,
    0X00, 0X67, 0XDF, 0XFF, 0XFF, 0XFF, 0XFF, 0XE0, 0X00, 0X00, 0X7F, 0XFF,
    0XFF, 0XFF, 0XFF, 0XFF, 0XE0, 0X00, 0X00, 0X3F, 0XFF, 0XFF, 0XFF, 0XFF,
    0XFF, 0XE0, 0X00, 0X00, 0X3F, 0XFC, 0XFF, 0XFF, 0XFF, 0XFF, 0XC0, 0X00,
    0X00, 0X1F, 0XFB, 0XFF, 0X78, 0XFF, 0X7F, 0X80, 0X00, 0X00, 0X0F, 0XFB,
    0XE6, 0XF9, 0XE6, 0XFF, 0X80, 0X00, 0X00, 0X0F, 0XF3, 0X71, 0XF3, 0XF1,
    0XFF, 0X00, 0X00, 0X00, 0X07, 0XF3, 0X79, 0XE7, 0XF1, 0XFE, 0X00, 0X00,
    0X00, 0X03, 0XF2, 0XF0, 0X60, 0X30, 0X7C, 0X00, 0X00, 0X00, 0X01, 0XF1,
    0XFE, 0XFF, 0XFF, 0XF8, 0X00, 0X00, 0X00, 0X00, 0X7F, 0XFF, 0XFF, 0XFF,
    0XF0, 0X00, 0X00, 0X00, 0X00, 0X3F, 0XFF, 0XFF, 0XFF, 0XC0, 0X00, 0X00,
    0X00, 0X00, 0X0F, 0XFF, 0XFF, 0XFF, 0X80, 0X00, 0X00, 0X00, 0X00, 0X07,
    0XFF, 0XFF, 0XFE, 0X00, 0X00, 0X00, 0X00, 0X00, 0X01, 0XFF, 0XFF, 0XF8,
    0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X1F, 0XFF, 0XC0, 0X00, 0X00, 0X00,
    0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00,
    0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00,
    0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00,
};

void about_handle(Menu *menu) {
  quit = false;
  clear_btns();
  upBtn.attachClick(exit_handle);
  downBtn.attachClick(exit_handle);
  leftBtn.attachClick(exit_handle);
  rightBtn.attachClick(exit_handle);
  while (!quit) {
    upBtn.tick();
    downBtn.tick();
    leftBtn.tick();
    rightBtn.tick();
    display.clearDisplay();
    display.drawBitmap((display.width() - GXZX_WIDTH) / 2,
                       (display.height() - GXZX_HEIGHT) / 2, gxzx_bmp,
                       GXZX_WIDTH, GXZX_HEIGHT, 1);
    display.display();
  }
  init_btns(menu);
}